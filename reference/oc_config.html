<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Configure session settings for opencage."><title>Configure settings — oc_config • opencage</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Configure settings — oc_config"><meta property="og:description" content="Configure session settings for opencage."><meta property="og:image" content="https://docs.ropensci.org/opencage/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">opencage</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/opencage.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/customise_query.html">Customise your query</a>
    <a class="dropdown-item" href="../articles/output_options.html">Output options</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/opencage/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Configure settings</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/opencage/blob/HEAD/R/oc_config.R" class="external-link"><code>R/oc_config.R</code></a></small>
      <div class="d-none name"><code>oc_config.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Configure session settings for <span class="pkg">opencage</span>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">oc_config</span><span class="op">(</span></span>
<span>  key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENCAGE_KEY"</span><span class="op">)</span>,</span>
<span>  rate_sec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oc_rate_sec"</span>, default <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span>,</span>
<span>  no_record <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oc_no_record"</span>, default <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  show_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oc_show_key"</span>, default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>key</dt>
<dd><p>Your OpenCage API key as a character vector of length one. Do not
pass the key directly as a parameter, though. See details.</p></dd>


<dt>rate_sec</dt>
<dd><p>Numeric vector of length one. Sets the maximum number of
requests sent to the OpenCage API per second. Defaults to the value set in
the <code>oc_rate_sec</code> option, or, in case that does not exist, to 1L.</p></dd>


<dt>no_record</dt>
<dd><p>Logical vector of length one. When <code>TRUE</code>, OpenCage will not
create log entries of the queries and will not cache the geocoding
requests. Defaults to the value set in the <code>oc_no_record</code> option, or, in
case that does not exist, to <code>TRUE</code>.</p></dd>


<dt>show_key</dt>
<dd><p>Logical vector of length one. This is only relevant when
debugging <code><a href="oc_forward.html">oc_forward()</a></code> or <code><a href="oc_reverse.html">oc_reverse()</a></code> calls with the <code>return = "url_only"</code> argument. When <code>TRUE</code>, the result will show your OpenCage API
key in the URL as stored in the <code>OPENCAGE_KEY</code> environment variable. When
not <code>TRUE</code>, the API key will be replaced with the string <code>OPENCAGE_KEY</code>.
<code>show_key</code> defaults to the value set in the <code>oc_show_key</code> option, or, in
case that does not exist, to <code>FALSE</code>.</p></dd>


<dt>...</dt>
<dd><p>Ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="set-your-opencage-api-key">Set your OpenCage API key<a class="anchor" aria-label="anchor" href="#set-your-opencage-api-key"></a></h2>
    


<p><span class="pkg">opencage</span> will conveniently retrieve your API key if it is saved in the
environment variable <code>"OPENCAGE_KEY"</code>. <code>oc_config()</code> will help to set that
environment variable. Do not pass the key directly as a parameter to the
function, though, as you risk exposing it via your script or your history.
There are three safer ways to set your API key instead:</p><ol><li><p>Save your API key as an environment variable in
<code><a href="https://rdrr.io/r/base/Startup.html" class="external-link">.Renviron</a></code> as described in <a href="https://rstats.wtf/r-startup.html#renviron" class="external-link">What They Forgot to Teach You About R</a> or <a href="https://csgillespie.github.io/efficientR/set-up.html#renviron" class="external-link">Efficient R Programming</a>.
From there it will be fetched by all functions that call the OpenCage API.
You do not even have to call <code>oc_config()</code> to set your key; you can start
geocoding right away. If you have the <span class="pkg">usethis</span> package installed, you
can edit your <code><a href="https://rdrr.io/r/base/Startup.html" class="external-link">.Renviron</a></code> with <code>usethis::edit_r_environ()</code>.
We strongly recommend storing your API key in the user-level .Renviron, as
opposed to the project-level. This makes it less likely you will share
sensitive information by mistake.</p></li>
<li><p>If you use a package like <span class="pkg">keyring</span> to store your credentials, you can
safely pass your key in a script with a function call like this
<code>oc_config(key = keyring::key_get("opencage"))</code>.</p></li>
<li><p>If you call <code>oc_config()</code> in an <code><a href="https://rdrr.io/r/base/interactive.html" class="external-link">base::interactive()</a></code> session and the
<code>OPENCAGE_KEY</code> environment variable is not set, it will prompt you to enter
the key in the console.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="set-your-opencage-api-rate-limit">Set your OpenCage API rate limit<a class="anchor" aria-label="anchor" href="#set-your-opencage-api-rate-limit"></a></h2>
    


<p>The rate limit allowed by the API depends on the OpenCage plan you purchased
and ranges from 1 request/sec for the "Free Trial" plan to 15 requests/sec
for the "Medium" or "Large" plans, see <a href="https://opencagedata.com/pricing" class="external-link">https://opencagedata.com/pricing</a> for
details and up-to-date information. You can set the rate limit persistently
across sessions by setting an <code>oc_rate_sec</code> <a href="https://rdrr.io/r/base/options.html" class="external-link">option</a> in your
<code><a href="https://rdrr.io/r/base/Startup.html" class="external-link">.Rprofile</a></code>. If you have the <span class="pkg">usethis</span> package
installed, you can edit your <code><a href="https://rdrr.io/r/base/Startup.html" class="external-link">.Rprofile</a></code> with
<code>usethis::edit_r_profile()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="prevent-query-logging-and-caching">Prevent query logging and caching<a class="anchor" aria-label="anchor" href="#prevent-query-logging-and-caching"></a></h2>
    


<p>By default, OpenCage will store your queries in its server logs and will
cache the forward geocoding requests on their side. They do this in order to
speed up response times and to be able to debug errors and improve their
service. Logs are automatically deleted after six months according to
OpenCage's <a href="https://opencagedata.com/gdpr" class="external-link">page on data protection and GDPR</a>.</p>
<p>If you set <code>no_record</code> to <code>TRUE</code>, the query contents are not logged nor
cached. OpenCage still records that you made a request, but not the specific
query you made. <code>oc_config(no_record = TRUE)</code> sets the <code>oc_no_record</code>
<a href="https://rdrr.io/r/base/options.html" class="external-link">option</a> for the active R session, so it will be used for all
subsequent OpenCage queries. You can set the <code>oc_no_record</code>
<a href="https://rdrr.io/r/base/options.html" class="external-link">option</a> persistently across sessions in your
<code><a href="https://rdrr.io/r/base/Startup.html" class="external-link">.Rprofile</a></code>.</p>
<p>For increased privacy <span class="pkg">opencage</span> sets <code>no_record</code> to <code>TRUE</code>, by default.
Please note, however, that <span class="pkg">opencage</span> always caches the data it receives
from the OpenCage API locally, but only for as long as your R session is
alive.</p>
<p>For more information on OpenCage's policies on privacy and data protection
see <a href="https://opencagedata.com/faq#legal" class="external-link">their FAQs</a>, their <a href="https://opencagedata.com/gdpr" class="external-link">GDPR page</a>, and, for the <code>no_record</code> parameter, see
the relevant <a href="https://blog.opencagedata.com/post/145602604628/more-privacy-with-norecord-parameter" class="external-link">blog post</a>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

